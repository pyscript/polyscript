<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <script type="module">
      const { textContent } = document.querySelector('script[type=micropython]');
      const worker = new Worker('./worker.js', { type: 'module' });
      worker.postMessage(textContent);
      let i = 0;
      (function idle() {
        requestAnimationFrame(idle);
        document.body.textContent = i++;
      }());
    </script>
    <script type="micropython" async>
      import pyodide

      print("importing pyodide.sys")

      sys = await pyodide.sys
      print(sys.version)

      print("---")

      sys = await pyodide.sys
      print(sys.version)

      print("---")

      pandas = await pyodide.pandas
      print(pandas.__version__)
    </script>
  </head>
</html>
